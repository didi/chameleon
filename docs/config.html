<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>配置 | Chameleon 变色龙</title>
    <meta name="description" content="一套代码运行多端，一端所见即多端所见">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/brand/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.1f7cecb1.css" as="style"><link rel="preload" href="/assets/js/app.75758a9d.js" as="script"><link rel="preload" href="/assets/js/59.27c1f2c2.js" as="script"><link rel="preload" href="/assets/js/1.0ffbe9b2.js" as="script"><link rel="preload" href="/assets/js/53.46fcfafd.js" as="script"><link rel="preload" href="/assets/js/2.d96f0f68.js" as="script"><link rel="prefetch" href="/assets/js/10.e34a53eb.js"><link rel="prefetch" href="/assets/js/11.f06e4ddb.js"><link rel="prefetch" href="/assets/js/12.f6a1bca6.js"><link rel="prefetch" href="/assets/js/13.786ec29a.js"><link rel="prefetch" href="/assets/js/14.aa11b4a3.js"><link rel="prefetch" href="/assets/js/15.df7e1a9d.js"><link rel="prefetch" href="/assets/js/16.d938f9ff.js"><link rel="prefetch" href="/assets/js/17.c34bb9fa.js"><link rel="prefetch" href="/assets/js/18.d506db6d.js"><link rel="prefetch" href="/assets/js/19.0c23c0ff.js"><link rel="prefetch" href="/assets/js/20.6956468f.js"><link rel="prefetch" href="/assets/js/21.0412f37f.js"><link rel="prefetch" href="/assets/js/22.6319292b.js"><link rel="prefetch" href="/assets/js/23.9dfacd05.js"><link rel="prefetch" href="/assets/js/24.da1f7901.js"><link rel="prefetch" href="/assets/js/25.e63d1dfe.js"><link rel="prefetch" href="/assets/js/26.ab6dbaf2.js"><link rel="prefetch" href="/assets/js/27.61007b23.js"><link rel="prefetch" href="/assets/js/28.ea52d41b.js"><link rel="prefetch" href="/assets/js/29.28e4e638.js"><link rel="prefetch" href="/assets/js/30.dacd0f03.js"><link rel="prefetch" href="/assets/js/31.9c76e786.js"><link rel="prefetch" href="/assets/js/32.341c65dc.js"><link rel="prefetch" href="/assets/js/33.fa887b99.js"><link rel="prefetch" href="/assets/js/34.cb2787e0.js"><link rel="prefetch" href="/assets/js/35.2a548cba.js"><link rel="prefetch" href="/assets/js/36.f4045077.js"><link rel="prefetch" href="/assets/js/37.d14b85a8.js"><link rel="prefetch" href="/assets/js/38.d02ad1b4.js"><link rel="prefetch" href="/assets/js/39.3f6c56f3.js"><link rel="prefetch" href="/assets/js/4.a32fced6.js"><link rel="prefetch" href="/assets/js/40.6df992bd.js"><link rel="prefetch" href="/assets/js/41.42fe3314.js"><link rel="prefetch" href="/assets/js/42.9ad66ef2.js"><link rel="prefetch" href="/assets/js/43.c24588f3.js"><link rel="prefetch" href="/assets/js/44.6e42edbc.js"><link rel="prefetch" href="/assets/js/45.70b92186.js"><link rel="prefetch" href="/assets/js/46.6220b4f4.js"><link rel="prefetch" href="/assets/js/47.ddd5598c.js"><link rel="prefetch" href="/assets/js/48.512904f9.js"><link rel="prefetch" href="/assets/js/49.7a47c100.js"><link rel="prefetch" href="/assets/js/5.656144e4.js"><link rel="prefetch" href="/assets/js/50.8ea69462.js"><link rel="prefetch" href="/assets/js/51.87760970.js"><link rel="prefetch" href="/assets/js/52.245b3f87.js"><link rel="prefetch" href="/assets/js/54.f30cebb2.js"><link rel="prefetch" href="/assets/js/55.d0e78194.js"><link rel="prefetch" href="/assets/js/56.9bd89d11.js"><link rel="prefetch" href="/assets/js/57.e8c91476.js"><link rel="prefetch" href="/assets/js/58.3f5ae400.js"><link rel="prefetch" href="/assets/js/6.e160fc85.js"><link rel="prefetch" href="/assets/js/60.78f6c8e1.js"><link rel="prefetch" href="/assets/js/61.aaf08e1c.js"><link rel="prefetch" href="/assets/js/62.90fa4a2c.js"><link rel="prefetch" href="/assets/js/63.e389046f.js"><link rel="prefetch" href="/assets/js/64.a4b84589.js"><link rel="prefetch" href="/assets/js/65.e8bf169c.js"><link rel="prefetch" href="/assets/js/66.08ee176b.js"><link rel="prefetch" href="/assets/js/67.07b0ab2f.js"><link rel="prefetch" href="/assets/js/68.467a4c93.js"><link rel="prefetch" href="/assets/js/69.d549993a.js"><link rel="prefetch" href="/assets/js/7.3106f6ea.js"><link rel="prefetch" href="/assets/js/70.92772050.js"><link rel="prefetch" href="/assets/js/71.898e92ad.js"><link rel="prefetch" href="/assets/js/72.3a268113.js"><link rel="prefetch" href="/assets/js/73.1280ad1e.js"><link rel="prefetch" href="/assets/js/74.68a28c7e.js"><link rel="prefetch" href="/assets/js/75.dd2cd894.js"><link rel="prefetch" href="/assets/js/76.14295535.js"><link rel="prefetch" href="/assets/js/77.0fb02b40.js"><link rel="prefetch" href="/assets/js/78.8bdf967b.js"><link rel="prefetch" href="/assets/js/79.1e1a754d.js"><link rel="prefetch" href="/assets/js/8.1f4b5479.js"><link rel="prefetch" href="/assets/js/80.fb6ea401.js"><link rel="prefetch" href="/assets/js/81.9e133715.js"><link rel="prefetch" href="/assets/js/82.ad03e452.js"><link rel="prefetch" href="/assets/js/83.c18fc297.js"><link rel="prefetch" href="/assets/js/84.936c05ea.js"><link rel="prefetch" href="/assets/js/85.017ede75.js"><link rel="prefetch" href="/assets/js/86.d580e0bb.js"><link rel="prefetch" href="/assets/js/87.7cda3677.js"><link rel="prefetch" href="/assets/js/88.80db1d50.js"><link rel="prefetch" href="/assets/js/89.b282ca47.js"><link rel="prefetch" href="/assets/js/9.b6274882.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1f7cecb1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/brand/logo.png" alt="Chameleon 变色龙" class="logo"> <span class="site-name can-hide">Chameleon 变色龙</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="/components/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="/components/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>开始</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/introduction.html" class="sidebar-link">介绍</a></li><li><a href="/docs/setup.html" class="sidebar-link">起步</a></li><li><a href="/docs/cli.html" class="sidebar-link">命令行工具 (CLI)</a></li><li><a href="/docs/folder.html" class="sidebar-link">目录结构</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/view.html" class="sidebar-link">视图层</a></li><li><a href="/docs/cmss.html" class="sidebar-link">CMSS介绍</a></li><li><a href="/docs/cml.html" class="sidebar-link">CML 语法</a></li><li><a href="/docs/cml-vue.html" class="sidebar-link">CML - 类 Vue 语法</a></li><li><a href="/docs/logic.html" class="sidebar-link">逻辑层</a></li><li><a href="/docs/store.html" class="sidebar-link">数据管理</a></li><li><a href="/docs/custom.html" class="sidebar-link">自定义组件</a></li><li><a href="/docs/config.html" class="active sidebar-link">配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/config.html#组件配置" class="sidebar-link">组件配置</a></li><li class="sidebar-sub-header"><a href="/docs/config.html#路由配置" class="sidebar-link">路由配置</a></li><li class="sidebar-sub-header"><a href="/docs/config.html#项目配置" class="sidebar-link">项目配置</a></li><li class="sidebar-sub-header"><a href="/docs/config.html#平台列表" class="sidebar-link">平台列表</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>高级指引</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/poly.html" class="sidebar-link">多态协议</a></li><li><a href="/docs/build.html" class="sidebar-link">工程化</a></li><li><a href="/docs/io.html" class="sidebar-link">导入与导出</a></li><li><a href="/docs/sdk.html" class="sidebar-link">CML SDK</a></li><li><a href="/docs/mvvm.html" class="sidebar-link">定制扩展端</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>迁移</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/migrate-guide.html" class="sidebar-link">CML 迁移指南</a></li><li><a href="/docs/migrate-wx-to-cml.html" class="sidebar-link">迁移微信小程序项目到 CML</a></li><li><a href="/docs/migrate-vue-to-cml.html" class="sidebar-link">迁移 Vue 项目到 CML</a></li><li><a href="/docs/migrate-weex-to-cml.html" class="sidebar-link">迁移 Weex 项目到 CML</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h1> <p>针对项目、组件、路由等的特定配置，以满足各种方式的需求。</p> <h2 id="组件配置"><a href="#组件配置" class="header-anchor">#</a> 组件配置</h2> <p>组件基础配置及各端差异配置，包括组件引入等。</p> <p>组件的配置以 json 对象的格式配置在.cml 文件中，结构如下：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">cml-type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>json<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;base&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token string">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;navi&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/navi/navi&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;c-cell&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/c-cell/c-cell&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;c-list&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/c-list/c-list&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;navi-npm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cml-test-ui/navi/navi&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;wx&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;alipay&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;baidu&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;web&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;weex&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>base 对象为各端共用的配置对象。</li> <li>wx、web、weex 分别对应三端特有的配置对象，base 的配置会应用到每一端的配置，内部做的 merge。</li> <li><code>usingComponents</code>字段是目前最重要的配置，各端都会使用，小程序规定页面的 json 文件中配置使用到的组件。web 和 Weex 端的构建时也是根据该字段去找到相应的组件进行自动化的注册。所以用到组件必须进行配置</li> <li><code>usingComponents</code>中组件的引用地址。
<ul><li>支持引用 src 和 node_modules 下的组件，地址<strong>禁止包含后缀扩展名</strong>：
<ul><li>src 下可以写相对路径，也可以写相对于 src 的绝对路径，例如<code>/components/**</code>,</li> <li>node_modules 下的组件，不需要写 node_modules，直接从 npm 的包名称开始写例如<code>cml-test-ui/navi/navi</code>。</li></ul></li> <li>引用的组件类型支持：
<ul><li>.cml 扩展名跨端组件</li> <li>.vue 扩展名的 vue、weex 组件，<a href="/docs/poly.html#多态组件">仅在多态组件可用</a></li> <li>小程序组件文件夹路径，<a href="/docs/poly.html#多态组件">仅在多态组件可用</a></li> <li>.js 扩展名的 react 组件，<a href="/docs/poly.html#多态组件">仅在多态组件可用</a></li></ul></li></ul></li> <li> 小程序端所需要的一些配置，写在各自的特有配置对象中</li></ul> <h2 id="路由配置"><a href="#路由配置" class="header-anchor">#</a> 路由配置</h2> <p>项目统一路由配置，CML 项目内置了一套各端统一的路由配置方式。</p> <h3 id="路由配置文件"><a href="#路由配置文件" class="header-anchor">#</a> 路由配置文件</h3> <p><code>src/router.config.json</code>是路由的配置文件,内容如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;history&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;domain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://www.chameleon.com&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;routes&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/cml/h5/index&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/pages/index/index&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;mock&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.php&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>mode 为 Web 端路由模式，分为<code>hash</code>或<code>history</code>。</p></li> <li><p>domain，当 mode 为 hash 时 domain 为 Web 端页面的最终访问地址，当 mode 为 history 时，domain 为 Web 端页面的域名。</p></li> <li><p>routes 为路由配置</p> <ul><li>path 为路由对应的 cml 文件的路径,以 src 目录下开始的绝对路径，以/开头。</li> <li>url,当 mode 为 hash 时 url 为 Web 端页面地址对应的 hash，当 mode 为 history 时，url 为 Web 端页面的路径。</li> <li>mock 为该路由对应的 Mock 文件(仅模拟模板下发需要)</li></ul></li> <li><p>小程序端，构建时会将<code>router.config.json</code>的内容，插入到 app.json 的 pages 字段，实现小程序端的路由。</p></li> <li><p><b>注: <code>router.config.json</code>中的 domain 指定页面最终线上地址，只是用于 config.json 的生成,真正决定 web 页面访问地址的还是取决于 web 服务器的配置。</b></p></li></ul> <p>注：<a href="/tutorial/deploy-guide.html#apiPrefix、publicPath、router.config.json、cmlUrl的关系">apiPrefix、publicPath、router.config.json、cmlUrl 的关系</a></p> <h3 id="使用路由场景"><a href="#使用路由场景" class="header-anchor">#</a> 使用路由场景</h3> <ul><li><a href="/api/#路由导航">应用内路由</a></li> <li><a href="/api/#打开关闭页面">跨应用路由</a></li></ul> <h2 id="项目配置"><a href="#项目配置" class="header-anchor">#</a> 项目配置</h2> <p>不同端、不同模式的差异化构建配置。</p> <p>本文档描述了项目配置的全部参数及使用方法。</p> <h3 id="配置一览表"><a href="#配置一览表" class="header-anchor">#</a> 配置一览表</h3> <h4 id="项目全局配置"><a href="#项目全局配置" class="header-anchor">#</a> 项目全局配置</h4> <table><tr><th>字段名</th> <th>类型</th> <th>可选值</th> <th>说明</th> <th>备注</th></tr> <tr><td><a href="#web端页面文件类型">templateType</a></td> <td>String</td> <td>html[默认]、smarty</td> <td>web端构建出的页面文件类型</td> <td></td></tr> <tr><td><a href="#web端页面文件名称">projectName</a></td> <td>String</td> <td>-</td> <td>web端构建出的页面文件名称</td> <td></td></tr> <tr><td><a href="#模板语法">templateLang</a></td> <td>String</td> <td>cml[默认]、vue</td> <td>视图层模版语法</td> <td>两种语法不可混用</td></tr> <tr><td><a href="#支持端配置">platforms</a></td> <td>Array[String]</td> <td>['web','weex','wx','alipay','baidu']</td> <td>当前项目支持端配置</td> <td></td></tr> <tr><td><a href="#关闭某一端构建">devOffPlatform</a></td> <td>Array[String]</td> <td>['web','weex','wx','alipay','baidu']</td> <td>dev模式下关闭部分端构建</td> <td></td></tr> <tr><td><a href="#关闭某一端构建">buildOffPlatform</a></td> <td>Array[String]</td> <td>['web','weex','wx','alipay','baidu']</td> <td>build模式下关闭部分端构建</td> <td></td></tr> <tr><td><a href="#语法检查">enableLinter</a></td> <td>Boolean</td> <td>true[默认]、false</td> <td>是否开启chameleon的语法检查</td> <td></td></tr> <tr><td><a href="#多态校验控制">check</a></td> <td>Object</td> <td>-</td> <td>多态校验控制</td> <td></td></tr> <tr><td><a href="#多态校验控制">check.enable</a></td> <td>Boolean</td> <td>true[默认]、false</td> <td>是否开启多态语法校验</td> <td></td></tr> <tr><td><a href="#多态校验控制">check.enableTypes</a></td> <td>Array[String]</td> <td>['Object','Array','Nullable']</td> <td>Object表示多态协议中传递数据为对象时不校验内部具体数据，Array表示多态协议中传递数据为数组时不校验内部具体数据，Nullable表示某些参数不是必传</td> <td>谨慎使用，确定的输入数据结构会提高代码维护性！</td></tr> <tr><td><a href="#全局变量校验">enableGlobalCheck</a></td> <td>Boolean</td> <td>true、false</td> <td>是否开启全局变量校验</td> <td></td></tr> <tr><td><a href="#全局变量校验白名单">globalCheckWhiteList</a></td> <td>Array[String|RegExp] </td> <td>-</td> <td>文件校验白名单，配置后可不校验改文件</td> <td></td></tr> <tr><td><a href="#dev服务端口">devPort</a></td> <td>Number</td> <td>8000[默认]</td> <td>dev模式启动的web服务端口，默认从8000开始查找空闲端口</td> <td></td></tr> <tr><td><a href="#配置babel-loader不处理的文件">excludeBablePath</a></td> <td>Array[String|RegExp]</td> <td>-</td> <td>配置babel-loader不处理文件</td> <td></td></tr> <tr><td><a href="#配置babel-loader处理的文件">babelPath</a></td> <td>Array[String|RegExp]</td> <td>-</td> <td>配置babel-loader处理文件</td> <td></td></tr> <tr><td><a href="#cmss处理">cmss</a></td> <td>Object</td> <td>-</td> <td>cml相关配置，仅web端有效</td> <td></td></tr> <tr><td><a href="#cmss处理">cmss.rem</a></td> <td>Boolean</td> <td>true[默认]、false</td> <td>样式单位是否编译为rem</td> <td></td></tr> <tr><td><a href="#cmss处理">cmss.scale</a></td> <td>Number</td> <td>0.5[默认]</td> <td>cmss.rem为false时有效，尺寸换算规则 cpx * cmss.scale = px</td> <td></td></tr> <tr><td><a href="#禁用基础样式">baseStyle</a></td> <td>Object</td> <td>-</td> <td>禁用基础样式</td> <td></td></tr> <tr><td><a href="#禁用基础样式">baseStyle[platform]</a></td> <td>Boolean</td> <td>true、false</td> <td>禁用该端基础样式，platfrom为：web|weex|wx|alipay|baidu</td> <td>baseStyle.web为false时不插入web端基础样式，其他端同理</td></tr> <tr><td><a href="#全局引用npm组件库">cmlComponents</a></td> <td>Array[String]</td> <td>['cml-ui']</td> <td>全局自动引入组件库</td> <td>当设置该项之后可以直接使用改库下所有组件，无需手动引入</td></tr> <tr><td><a href="#配置子项目">subProject</a></td> <td>Array[String|Object]</td> <td>-</td> <td>配置项目中引入的子项目</td> <td>子项目的可以通过对象或者字符串的方式配置</td></tr> <tr><td><a href="#项目优化">optimize</a></td> <td>Object</td> <td>-</td> <td>优化项目构建</td> <td>chameleon-tool@1.0.5-alpha.1开始支持</td></tr> <tr><td><a href="#全局样式">globalStyleConfig</a></td> <td>Object</td> <td>-</td> <td>支持全局样式，便于修改内置组件样式</td> <td>chameleon-tool@1.0.5-alpha.1开始支持</td></tr></table> <h4 id="平台内构建配置"><a href="#平台内构建配置" class="header-anchor">#</a> 平台内构建配置</h4> <p>平台内构建配置是针对某一端执行命令构建时的特殊配置。</p> <table><tr><th>字段名</th> <th>类型</th> <th>可选值</th> <th>说明</th> <th>备注</th></tr> <tr><td><a href="#资源发布路径">publicPath</a></td> <td>String</td> <td>-</td> <td>静态资源发布路径</td> <td>设置该字段执行构建时静态资源地址将改为该地址</td></tr> <tr><td><a href="#api-请求前缀">apiPrefix</a></td> <td>String</td> <td>-</td> <td>接口请求地址地址</td> <td>设置该字段调用请求时如果请求路径不是全路径则拼接该地址</td></tr> <tr><td><a href="#文件指纹">hash</a></td> <td>Boolean</td> <td>true[build默认]、false[dev默认]</td> <td>构建出的文件名是否带hash</td> <td>用于更新浏览器缓存</td></tr> <tr><td><a href="#代码压缩">minimize</a></td> <td>Boolean</td> <td>true[build默认]、false[dev默认]</td> <td>构建出的文件是否进行代码压缩</td> <td></td></tr> <tr><td><a href="#热更新与自动刷新">hot</a></td> <td>Boolean</td> <td>true[默认]、false</td> <td>控制是否开启热更新</td> <td>web端有效</td></tr> <tr><td><a href="#打包资源分析">analysis</a></td> <td>Boolean</td> <td>true[默认]、false</td> <td>是否打开webpack打包分析工具</td> <td></td></tr> <tr><td><a href="#调试窗口">console</a></td> <td>Boolean</td> <td>false[默认]、true</td> <td>控制是否打开页面上的调试窗口</td> <td>web端有效</td></tr> <tr><td><a href="#内置变量">definePlugin</a></td> <td>Object</td> <td>-</td> <td>定义运行时内部变量</td> <td></td></tr> <tr><td><a href="#模块标识类型">moduleIdType</a></td> <td>String</td> <td>number、hash、name</td> <td>设置webpack打包模块的id类型</td> <td></td></tr> <tr><td><a href="#babelpolyfill">babelPolyfill</a></td> <td>Boolean</td> <td>默认 false</td> <td>是否添加polyfill</td> <td>web端@babel/polyfill 小程序端<a href="https://github.com/didi/chameleon/blob/0.3.x-alpha/packages/chameleon-tool/configs/default/miniappPolyfill.js">miniappPolyfill</a> weex端 <a href="https://github.com/didi/chameleon/blob/0.3.x-alpha/packages/chameleon-tool/configs/default/weexPolyfill.js">weexPolyfill</a></td></tr> <tr><td><a href="#domain-多域名请求前缀">domain</a></td> <td>Object</td> <td>默认 {}</td> <td>多域名请求前缀</td> <td></td></tr></table> <h3 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h3> <p>CML 的构建过程是配置化的，项目的根目录下提供一个 chameleon.config.js 文件，在该文件中可以使用全局对象 CML 的 api 去操作配置对象。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 设置静态资源的线上路径</span>
<span class="token keyword">const</span> publicPath <span class="token operator">=</span> <span class="token string">'//www.static.chameleon.com/static'</span><span class="token punctuation">;</span>

<span class="token comment">// 设置 API 请求前缀</span>
<span class="token keyword">const</span> apiPrefix <span class="token operator">=</span> <span class="token string">'https://api.chameleon.com'</span><span class="token punctuation">;</span>

<span class="token comment">// 合并配置</span>
cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  templateType<span class="token operator">:</span> <span class="token string">'html'</span><span class="token punctuation">,</span>
  projectName<span class="token operator">:</span> <span class="token string">'Chameleon'</span><span class="token punctuation">,</span>
  base<span class="token operator">:</span> <span class="token punctuation">{</span>
    dev<span class="token operator">:</span> <span class="token punctuation">{</span>
      domain1<span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
      domain2<span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    build<span class="token operator">:</span> <span class="token punctuation">{</span>
      domain1<span class="token operator">:</span> <span class="token string">'http://www.cml1.com'</span><span class="token punctuation">,</span>
      domain1<span class="token operator">:</span> <span class="token string">'http://www.cml2.com'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  web<span class="token operator">:</span> <span class="token punctuation">{</span>
    dev<span class="token operator">:</span> <span class="token punctuation">{</span>
      hot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      console<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    build<span class="token operator">:</span> <span class="token punctuation">{</span>
      publicPath<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>publicPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/web</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      apiPrefix<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="配置-api"><a href="#配置-api" class="header-anchor">#</a> 配置 api</h3> <ul><li><code>cml.config.merge(obj)</code> merge 方式修改配置。</li> <li><code>cml.config.assign(obj)</code> assign 方式修改配置</li> <li><code>cml.config.get()</code> 获取 config 配置</li></ul> <h3 id="配置对象结构"><a href="#配置对象结构" class="header-anchor">#</a> 配置对象结构</h3> <p>配置对象的第一级为全局配置，例如<code>projectName</code>,全局配置中有各平台内的配置对象，例如<code>web、wx、weex</code>等。<b>其中<code>base</code>对象用于配置各个平台对象的公共部分</b>。</p> <p>平台对象内部分为各 media 的配置对象，例如<code>dev、build</code>。</p> <h3 id="配置详解"><a href="#配置详解" class="header-anchor">#</a> 配置详解</h3> <p>下面就详细介绍配置中的功能。</p> <h4 id="web-端页面文件-类型"><a href="#web-端页面文件-类型" class="header-anchor">#</a> Web 端页面文件  类型</h4> <p><code>templateType</code>, String 类型。<br>
该字段控制 Web 端构建  出的页面文件类型。</p> <ul><li><code>templateType: 'html'</code> 构建出.html 文件，纯前端模板</li> <li><code>templateType: 'smarty'</code> 构建出.tpl 文件</li></ul> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  templateType<span class="token operator">:</span> <span class="token string">'html'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="web-端页面文件名称"><a href="#web-端页面文件名称" class="header-anchor">#</a> Web 端页面文件名称</h4> <p><code>projectName</code>, String 类型。</p> <p>该字段控制 Web 端构建  出的模板文件名称，默认是当前项目的根目录文件夹名称。</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  projectName<span class="token operator">:</span> <span class="token string">'test_cml'</span><span class="token punctuation">,</span>
  templateType<span class="token operator">:</span> <span class="token string">'html'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Web 端构建出 <code>test_cml.html</code>文件</p> <h4 id="模板语法"><a href="#模板语法" class="header-anchor">#</a> 模板语法</h4> <p><code>templateLang</code>, String 类型。<br>
CML 的视图层支持两种模板语法，通过在 template 上的<code>lang</code>属性做区分，如果不写默认是 CML 语法。<br>
该字段控制<code>init page 和init component</code> 时生成的 cml 文件的 template 模板上的<code>lang属性</code>。<br>
例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  templateLang<span class="token operator">:</span> <span class="token string">'cml'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="支持端配置"><a href="#支持端配置" class="header-anchor">#</a> 支持端配置</h4> <p><code>platforms</code>, Array[String]类型。
 配置当前项目支持的  端，该配置决定<code>cml dev</code>和<code>cml build</code>命令启动构建的端，决定<code>cml init</code>命令初始化多态接口和多态组件时只生成相应端代码。
例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  platforms<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'web'</span><span class="token punctuation">,</span> <span class="token string">'wx'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>cml dev</code>和<code>cml build</code>只启动 web 和 wx 端的构建。</p> <h4 id="关闭某一端构建"><a href="#关闭某一端构建" class="header-anchor">#</a> 关闭某一端构建</h4> <p><code>devOffPlatform和buildOffPlatform</code>, Array[String] 类型。
 当我们执行<code>cml dev</code> 和 <code>cml build</code> 时会自动构建输出  所有平台的代码，可以通过这两个字段控制不需要构建的平台，目前支持取值<code>[&quot;web&quot;,&quot;wx&quot;,&quot;weex&quot;]</code>。
例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  devOffPlatform<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'wx'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  buildOffPlatform<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'wx'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="语法检查"><a href="#语法检查" class="header-anchor">#</a> 语法检查</h4> <p><code>enableLinter</code>, Boolean  类型。</p> <p>默认为 <code>true</code>，是否开启 CML 的语法检查，会在命令行提示语法错误。
例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  enableLinter<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="多态校验控制"><a href="#多态校验控制" class="header-anchor">#</a> 多态校验控制</h4> <p><code>check</code>, Object 类型。
CML 提供了多态接口与多态组件的写法，同时为了保证代码的质量提供了多态校验的方法，可以通过<code>check</code>字段进行校验的控制。</p> <p><code>check.enable</code>, Boolean 类型。 控制是否开启多态校验，默认<code>true</code>。</p> <p><code>check.enableTypes</code>, Array[String] 类型。  可取值<code>[&quot;Object&quot;,&quot;Array&quot;,&quot;Nullable&quot;]</code>,控制校验中是否可以定义直接定义 Object 和 Array 类型，和  是否可以定义可为空类型,默认值为<code>[]</code>。
例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  check<span class="token operator">:</span> <span class="token punctuation">{</span>
    enable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    enableTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Object'</span><span class="token punctuation">,</span> <span class="token string">'Array'</span><span class="token punctuation">,</span> <span class="token string">'Nullable'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="全局变量校验"><a href="#全局变量校验" class="header-anchor">#</a> 全局变量校验</h4> <p><code>enableGlobalCheck</code>, Boolean 类型。<br>
默认是 false,(chameleon-tool 0.2.0 版本及之后默认为 true)，控制是否进行全局变量的检验。</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  enableGlobalCheck<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="全局变量校验白名单"><a href="#全局变量校验白名单" class="header-anchor">#</a> 全局变量校验白名单</h4> <p><code>globalCheckWhiteList</code>, Array[String|RegExp] 类型。</p> <p>chameleon 内置了全局变量校验的功能 可以设置白名单不校验某些文件。以文件绝对路径进行匹配，可以是正则表达式径，也可以是字符串的 endWiths。</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  globalCheckWhiteList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'jquery.js'</span><span class="token punctuation">,</span> <span class="token regex">/node_modules/</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>则所有以 <code>jquery.js</code> 结尾的文件以及 正则匹配 <code>/node_modules/</code> 的不做校验；</p> <h4 id="dev-服务端口"><a href="#dev-服务端口" class="header-anchor">#</a> dev 服务端口</h4> <p><code>devPort</code>, Number 类型。
dev 模式启动的 web 服务端口，默认是从 8000 开始寻找空闲端口，避免了启动多个项目时的端口冲突问题。如果想指定端口可以使用该参数进行配置。
例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  devPort<span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="配置-babel-loader-不处理的文件"><a href="#配置-babel-loader-不处理的文件" class="header-anchor">#</a> 配置 babel-loader 不处理的文件</h4> <p><code>excludeBablePath</code>, Array[String|RegExp] 类型。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  excludeBablePath<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token regex">/test-exclude/</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./src/excludes'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这个配置的结果会作为 webpack 模块配置中 Rule.exclude 的值；</p> <h4 id="配置-babel-loader-处理的文件"><a href="#配置-babel-loader-处理的文件" class="header-anchor">#</a> 配置 babel-loader 处理的文件</h4> <p><code>babelPath</code>, Array[String|RegExp] 类型。 默认开发者引入的 node_modules 中的文件不经过 babel，如有文件需要 babel，设置该参数。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  babelPath<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'node_modules/test/'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这个配置的结果会作为 webpack 模块配置中 Rule.include 的值；</p> <h4 id="cmss-处理"><a href="#cmss-处理" class="header-anchor">#</a> cmss 处理</h4> <p><code>cmss</code>，Object 类型。
仅用于 Web 端。其中包含 rem 及 scale 属性，Web 端构建时默认将 cpx 转为 rem，当不需要时转为 rem 时，将 rem 置为 false，则 scale 参数生效，scale 为像素缩放倍数，默认为 1，会将 cpx 按照 scale 的设置进行缩放为 px。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  cmss<span class="token operator">:</span> <span class="token punctuation">{</span>
    rem<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    scale<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>该设置 Web 端 cpx 不转为 rem，而缩小 1 倍转为 px，例如 10cpx 转为 5px。</p> <h4 id="禁用基础样式"><a href="#禁用基础样式" class="header-anchor">#</a> 禁用基础样式</h4> <p><code>baseStyle</code>， Object 类型。
chameleon 为了让各端样式统一，默认会在全局插入一些基础样式，如果开发者的跨端不需要这些基础样式，可以通过该参数进行设置。key 值为端名称，value 为 Boolean 值，是否插入  基础样式。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseStyle<span class="token operator">:</span> <span class="token punctuation">{</span>
    web<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    wx<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    weex<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>该设置 web、wx、Weex 端均不插入基础样式。</p> <h4 id="全局引用-npm-组件库"><a href="#全局引用-npm-组件库" class="header-anchor">#</a> 全局引用 npm 组件库</h4> <p><code>cmlComponents</code>, Array[String] 类型。
当我们想把 npm 组件库中的组件全部自动引入，而不需要单独引入时，可以通过该字段配置 npm 包名称。例如 <code>cml-ui</code>是我们提供的一个 npm 组件库，可以进行如下配置：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  cmlComponents<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'cml-ui'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>npm 组件库的<code>package.json</code>中的<code>main</code>字段可以指定路径，否则就会查找 npm 包中的所有 cml 文件自动引入，自动引入的组件名称为 cml 文件名称。</p> <h4 id="配置子项目"><a href="#配置子项目" class="header-anchor">#</a> 配置子项目</h4> <p>subProject, Array[String|Object]类型。 当配置项为 Object 时， npmName 表示该子项目的地址(从 node_modules 层级开始配置)， isInjectBaseStyle 表示该子项目是否注入基础样式；
当配置项为 String 时，该值直接表示该子项目的地址(从 node_modules 层级开始配置)，此时不支持配置是否注入基础样式，子项目默认注入基础样式。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  subProject<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      npmName<span class="token operator">:</span> <span class="token string">'@didi/cml-login'</span><span class="token punctuation">,</span>
      isInjectBaseStyle<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'@didi/base-style-test'</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="项目优化"><a href="#项目优化" class="header-anchor">#</a> 项目优化</h4> <p>chameleon-tool@1.0.5-alpha.1 开始支持</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  optimize<span class="token operator">:</span> <span class="token punctuation">{</span>
  watchNodeModules<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// 默认不对 node_modules中的文件进行 watch,提升编译性能</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="全局样式"><a href="#全局样式" class="header-anchor">#</a> 全局样式</h4> <p>chameleon-tool@1.0.5-alpha.1 开始支持</p> <p>使用参考<a href="https://github.com/chameleon-team/cml-global-style" target="_blank" rel="noopener noreferrer">demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  globalStyleConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//globalCssPath 该路径下的样式对非 Weex 端生效；</span>
    globalCssPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/assets/global.config.less'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    weexCssConfig<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//该文件内的样式会作为全局样式导入</span>
      weexCssPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/assets/global.weex.less'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">//由于weex端本身的限制，假如某些情况下，要覆盖内置组件的某个样式，我们提供了对于该组件注入样式的方式，注入的样式只会对该组件生效</span>
      injectCss<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          componentPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
            __dirname<span class="token punctuation">,</span>
            <span class="token string">'node_modules/cml-ui/components/c-dialog/c-dialog.cml'</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          cssPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/assets/c-dialog.less'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="构建结果信息"><a href="#构建结果信息" class="header-anchor">#</a> 构建结果信息</h4> <p><code>buildInfo</code>, Object 类型。
<code>buildInfo.wxAppId</code>,String 类型。微信的 appId。</p> <p>当执行完 cml build 后会生成一个<code>config.json</code>文件，该文件存储构建后各平台的页面信息。可以通过这个 json 文件做页面的动态下发，页面降级等等。</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  buildInfo<span class="token operator">:</span> <span class="token punctuation">{</span>
    wxAppId<span class="token operator">:</span> <span class="token string">'123456'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>cml build 后生成  在<code>dist/config.json</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>    <span class="token punctuation">{</span>
        <span class="token string">&quot;wx&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;appId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/pages/index/index&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;web&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://api.chameleon.com/cml/h5/index&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;weex&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://static.chameleon.com/pinche/hkcml/weex/hybridkits_pageone_e86b77ae05a015a3a546.js&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;query&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/pages/index/index&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>config.json 中微信小程序的 appId 是  通过<code>buildInfo</code>配置生成，其他的页面信息是根据<code>router.config.json</code>中的配置生成。</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  enableLinter<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="构建入口与页面"><a href="#构建入口与页面" class="header-anchor">#</a> 构建入口与页面 </h4> <p>默认的入口与页面集成在命令行中，对于有特殊  需求的开发者，CML 提供了可以自定义 Web 端构建入口与页面，Weex 端构建入口的功能。
<code>entry</code>, Object  类型。
<code>entry.template</code>, String 类型。 页面文件的绝对路径。
<code>entry.web</code>, String 类型。 Web 端入口文件的  绝对路径。
<code>entry.weex</code>, String 类型。 wewx 端入口文件的  绝对路径。
例如：</p> <div class="language- extra-class"><pre class="language-text"><code>var path = require('path');
cml.config.merge({
  entry: {
    template: path.resolve('./src/index.html')
    web: path.resolve('./src/mian.web.js')
    weex: path.resolve('./src/main.weex.js')
  }
})
</code></pre></div><h4 id="平台内配置"><a href="#平台内配置" class="header-anchor">#</a> 平台内配置</h4> <p> 每一个平台的构建会需要不同的配置，所以针对每一个平台会有一个平台配置对象，平台配置对象中又有多个 media 配置对象，例如 dev 或者 build 的配置。 下面讲述的配置项都是放在 media 对象中。例如：
<code>wx web weex</code>是平台对象，里面的<code>dev和build</code>是 media 对象。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  wx<span class="token operator">:</span> <span class="token punctuation">{</span>
    dev<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    build<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  web<span class="token operator">:</span> <span class="token punctuation">{</span>
    dev<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    build<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  weex<span class="token operator">:</span> <span class="token punctuation">{</span>
    dev<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    build<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>以下介绍平台内配置支持的配置项</p> <h4 id="文件指纹"><a href="#文件指纹" class="header-anchor">#</a> 文件指纹</h4> <p>文件指纹是文件的唯一标识，以文件的内容生成 hash 值作为文件名称的一部分。在开启强缓存的情况下，如果文件的 URL 不发生变化，无法刷新浏览器缓存。文件指纹  用于更新浏览器的缓存。小程序端不需要文件指纹。 默认图片资源  开启 hash，build 模式开启 hash。 通过<code>hash</code>字段配置。</p> <p><code>hash</code>, Boolean 类型。
 控制打包出的 js 和 css 文件是否带 hash 后缀，图片字体等静态资源自动带 hash，其小程序端不支持 hash 参数。</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  web<span class="token operator">:</span> <span class="token punctuation">{</span>
    dev<span class="token operator">:</span> <span class="token punctuation">{</span>
      hash<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>下图为 Web 端开启文件指纹的打包结果。
<img src="/assets/img/fingerprint.bdf6ab3b.jpg" width="300px"></p> <h4 id="代码压缩"><a href="#代码压缩" class="header-anchor">#</a> 代码压缩</h4> <p>为了减少资源网络传输的大小，通过压缩器对 js、css、图片进行压缩是一直以来前端工程优化的选择。在 CML 中只需要  配置<code>minimize</code>参数。</p> <p><code>minimize</code>, Boolean 类型。</p> <p> 控制打包出的文件是否进行压缩。</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  web<span class="token operator">:</span> <span class="token punctuation">{</span>
    dev<span class="token operator">:</span> <span class="token punctuation">{</span>
      minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="资源发布路径"><a href="#资源发布路径" class="header-anchor">#</a> 资源发布路径</h4> <p><code>publicPath</code>, String 类型。
 控制代码中静态资源的引用路径， 线上发布需要用到，media 为 dev 时默认 小程序端是本地路径，web 和 Weex 端是当前 dev 服务的  路径。
例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  web<span class="token operator">:</span> <span class="token punctuation">{</span>
    build<span class="token operator">:</span> <span class="token punctuation">{</span>
      publicPath<span class="token operator">:</span> <span class="token string">'http://www.chameleon.com/static'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="热更新与自动刷新"><a href="#热更新与自动刷新" class="header-anchor">#</a> 热更新与自动刷新</h4> <p>热更新与自动刷新都是提高本地开发效率的手段，当项目中的源代码发生改变时， 能够自动的在页面看到改变，其中热更新不需要重新刷新预览的页面。目前只有 Web 端的开发支持热更新，通过<a href="/docs/config.html#代码热更新">hot 参数配置</a>。 <code>dev</code>模式默认自动刷新，Web 端可以选择开启热更新。</p> <p><code>hot</code>, Boolean 类型。</p> <p>控制是否开启热更新，只在 Web 端生效，开启热更新时，css 代码不会单独分离出来，如果进行线上 js 代理本地 js 调试问题时，请关闭热更新。</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  web<span class="token operator">:</span> <span class="token punctuation">{</span>
    dev<span class="token operator">:</span> <span class="token punctuation">{</span>
      hot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="打包资源分析"><a href="#打包资源分析" class="header-anchor">#</a> 打包资源分析</h4> <p><code>analysis</code>, Boolean 类型。</p> <p>控制是否  打开 webpack 打包分析工具， 内部使用的<code>webpack-bundle-analyzer</code>插件。</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  web<span class="token operator">:</span> <span class="token punctuation">{</span>
    dev<span class="token operator">:</span> <span class="token punctuation">{</span>
      analysis<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="调试窗口"><a href="#调试窗口" class="header-anchor">#</a> 调试窗口</h4> <p><code>console</code>, Boolean 类型。</p> <p>控制是否打开页面上的调试窗口，只在 Web 端有效，方便在真机上进行调试。</p> <p>例如：</p> <div class="language- extra-class"><pre class="language-text"><code>cml.config.merge({
  web: {
    dev: {
      console: true
    }
  }
})
</code></pre></div><h4 id="内置变量"><a href="#内置变量" class="header-anchor">#</a>  内置变量</h4> <p><code>definePlugin</code>, Object 类型，内部使用<code>webpack.DefinePlugin</code>实现，定义运行时的内置变量。
例如：</p> <div class="language- extra-class"><pre class="language-text"><code>cml.config.merge({
  web: {
    dev: {
      definePlugin: {
        'process.env.TEST': JSON.stringify('CML_TEST')
      }
    }
  }
})
</code></pre></div><h4 id="api-请求前缀"><a href="#api-请求前缀" class="header-anchor">#</a> API 请求前缀</h4> <p><code>apiPrefix</code>, String 类型。
这个配置与网络请求相关，在 wx 和 Weex 项目中，ajax 的请求不能像 Web 端一样只写相对路径，而是要写带有域名的绝对路径，<code>chameleon-api</code> 这个基础库，提供了网络请求的 api，<code>get、post、request</code>方法，该方法会在运行时将请求的相对路径上添加配置的<code>apiPrefix</code>。media 是 dev 时 默认为当前 dev 服务的地址,不需要配置。 例如：
<code>chameleon.config.js</code></p> <div class="language- extra-class"><pre class="language-text"><code>// 设置 API 请求前缀
const apiPrefix = 'http://api.chameleon.com';
cml.config.merge({
  wx: {
    dev: {
    },
    build: {
      apiPrefix
    }
  }
})
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> cml <span class="token keyword">from</span> <span class="token string">'chameleon-api'</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token punctuation">{</span>
  methods <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">sendGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cml
        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          url<span class="token operator">:</span> <span class="token string">'/api/driver/getList'</span><span class="token punctuation">,</span>
          data<span class="token operator">:</span> <span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'cml'</span><span class="token punctuation">,</span>
            age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在执行 <code>cml wx dev</code> 命令构建的结果中，<code>cml.get()</code> 方法发送的请求是 <code>http://172.22.137.29:8000/api/driver/getList</code></p> <p>在执行 <code>cml wx build</code> 命令构建的结果中，<code>cml.get()</code> 方法发送的请求是 <code>http://api.chameleon.com/api/driver/getList</code></p> <h4 id="模块标识类型"><a href="#模块标识类型" class="header-anchor">#</a> 模块标识类型</h4> <p><code>moduleIdType</code>,String 类型。
设置 webpack 打包模块的 id 类型。</p> <ul><li>number 顺序排列的数组下标。</li> <li>hash 利用 webpack.HashedModuleIdsPlugin() 模块的 id 类型为模块内容的 hash 值。</li> <li>name 利用 webpack.NamedModulesPlugin() 模块的 id 类型为文件的路径。</li> <li>CML 用于 build 模式，模块的 id 类型为模块内容的 hash，并且最终文件的 hash 也经过优化处理，根据文件内容绝对 hash 值。
默认 media 为 dev 时 取值  为 name 方便开发调试， media 为 build 时取值为 CML 保证 hash 值由文件内容决定，更好的做缓存持久化。</li></ul> <p>例如：</p> <div class="language- extra-class"><pre class="language-text"><code>cml.config.merge({
  web: {
    dev: {
      moduleIdType: &quot;number&quot;
    }
  }
})
</code></pre></div><h4 id="babelpolyfill"><a href="#babelpolyfill" class="header-anchor">#</a> babelPolyfill</h4> <blockquote><p>chameleon-tool@0.0.15 开始支持 Web 端
chameleon-tool@0.3.0 开始支持 小程序端
chameleon-tool@0.3.3 开始支持 Weex 端</p></blockquote> <p><code>babelPolyfill</code>, Boolean 类型, 默认 false。
一些 es6+的语法，babel 不会转义，例如 Object.sssign、Object.entries 等方法, 如果客户端运行环境不支持这些语法就会出错。其中 Web 使用的是 <code>@babel/polyfill</code>, 小程序端使用的是自写的一些方法的 polyfill，参见 <a href="https://github.com/didi/chameleon/blob/v0.3.x-alpha/packages/chameleon-tool/configs/default/miniappPolyfill.js" target="_blank" rel="noopener noreferrer">miniappPolyfill<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，Weex 端使用的是自写的一些方法的 polyfill，参见 <a href="https://github.com/didi/chameleon/blob/v0.3.x-alpha/packages/chameleon-tool/configs/default/weexPolyfill.js" target="_blank" rel="noopener noreferrer">weexPolyfill<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。注意添加 polyfill 后会增加一些文件体积。</p> <p>例如：</p> <div class="language- extra-class"><pre class="language-text"><code>cml.config.merge({
  base: {
    dev: {
      babelPolyfill: true
    },
    build: {
      babelPolyfill: true
    }
  }
})
</code></pre></div><h4 id="domain-多域名请求前缀"><a href="#domain-多域名请求前缀" class="header-anchor">#</a> Domain 多域名请求前缀</h4> <blockquote><p>chameleon-tool@0.2.1
chameleon-api@0.3.1 开始支持</p></blockquote> <p><code>domain</code>, Object 类型。
一般配置在 base 对象中，作为所有平台的公共配置，dev 模式中配置的<code>localhost</code>会替换成当前 dev 模式启动的 web 服务 ip+端口。 具体使用文档参见 <a href="/docs/build.html#api-多域名-mock">API 多域名 Mock</a>。</p> <p>例如：</p> <div class="language- extra-class"><pre class="language-text"><code>cml.config.merge({
  base: {
    dev: {
      domain: {
        domain1: &quot;localhost&quot;,
        domain2: &quot;localhost&quot;
      },
    },
    build: {
      domain: {
        domain1: &quot;http://api.cml.com&quot;,
        domain2: &quot;http://api2.cml.com&quot;
      },
    }
  },
})
</code></pre></div><h4 id="自定义构建配置"><a href="#自定义构建配置" class="header-anchor">#</a> 自定义构建配置</h4> <p>如果我们需要多套构建配置，可以自定义一个 media，比如设置 weex.custom 对象，然后执行<code>cml weex custom</code>即可使用你设置的 custom 配置进行构建，但是不会启动 dev 服务和 watch。
例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  weex<span class="token operator">:</span> <span class="token punctuation">{</span>
    custom<span class="token operator">:</span> <span class="token punctuation">{</span>
      minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//对打包结果进行压缩</span>
      moduleIdType<span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token comment">//编译的模块结果以模块名字显示</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>自定义构建配置可配置项和上面介绍的平台内配置项是一样的，比如同样支持 publicPath apiPrefix hash minimize anslysis 等；</p> <p>假如你在构建微信小程序端，一个构建模式下要求不压缩代码，一个构建模式下要求显示模块名字，那么可以如下配置</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cml<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  wx<span class="token operator">:</span> <span class="token punctuation">{</span>
    build<span class="token operator">:</span> <span class="token punctuation">{</span>
      minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//对打包结果进行压缩</span>
      moduleIdType<span class="token operator">:</span> <span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token comment">//编译的模块结果以模块名字显示</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    custom<span class="token operator">:</span> <span class="token punctuation">{</span>
      minimize<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//对打包结果进行压缩</span>
      moduleIdType<span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token comment">//编译的模块结果以模块名字显示</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>执行 cml wx build 则打包的代码会进行压缩以及模块名以 id 取名；
执行 cml wx custom 则打包的代码不会压缩抑菌剂模块名以该模块对应的 name 取名</p> <h4 id="组件导出配置"><a href="#组件导出配置" class="header-anchor">#</a> 组件导出配置</h4> <p>组件导出相关的配置请参见组件导出介绍。</p> <h3 id="修改-webpack-配置"><a href="#修改-webpack-配置" class="header-anchor">#</a> 修改 webpack 配置</h3> <p>在<code>chameleon.config.js</code>中可以通过 api 获取到构建之前的 webpack 配置并对其进行修改。使用方式：</p> <div class="language- extra-class"><pre class="language-text"><code>cml.utils.plugin('webpackConfig', function({ type, media, webpackConfig }, cb) {
  // cb函数用于设置修改后的配置
  cb({
    type,
    media,
    webpackConfig
  });
});
</code></pre></div><h2 id="平台列表"><a href="#平台列表" class="header-anchor">#</a> 平台列表</h2> <table><tr><th>终端</th> <th>关键词</th> <th>说明</th></tr> <tr><td><a href="https://doc.quickapp.cn">快应用</a></td> <td>quickapp</td> <td><a href="../tutorial/cml-quickapp-app.html">手动扩展接入</a></td></tr> <tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/">微信小程序</a></td> <td>wx</td> <td></td></tr> <tr><td><a href="https://docs.alipay.com/mini/developer/introduction">支付宝小程序</a></td> <td>alipay</td> <td></td></tr> <tr><td><a href="https://smartprogram.baidu.com/docs/develop/fuctionlist/list/">百度小程序</a></td> <td>baidu</td> <td></td></tr> <tr><td><a href="https://www.w3school.com.cn">手机浏览器 / WebView</a></td> <td>web</td> <td></td></tr> <tr><td><a href="https://developer.toutiao.com/docs/framework/">字节跳动小程序</a></td> <td>tt</td> <td><a href="../tutorial/migrate-bytedance-to-cml.html">手动扩展接入</a></td></tr> <tr><td><a href="https://q.qq.com/wiki/develop/miniprogram/frame/">QQ 小程序</a></td> <td>qq</td> <td></td></tr> <tr><td><a href="https://weex.apache.org/zh/guide/introduction.html">Weex </a></td> <td>weex</td> <td></td></tr></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/custom.html" class="prev">
        自定义组件
      </a></span> <span class="next"><a href="/docs/poly.html">
        多态协议
      </a>
      →
    </span></p></div> <footer class="footer" data-v-aa5c954a><div class="content" data-v-aa5c954a><div class="left" data-v-aa5c954a><a href="/" class="brand" data-v-aa5c954a><img src="data:image/png;base64,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" alt="logo" data-v-aa5c954a> <span data-v-aa5c954a>Chameleon</span></a> <div class="info" data-v-aa5c954a>Copyright © 2020 DiDi Chuxing Inc.</div></div> <div class="right" data-v-aa5c954a><div class="col" data-v-aa5c954a><h4 data-v-aa5c954a>资源</h4> <a href="/components/expand.html" data-v-aa5c954a>Chameleon UI</a><a href="https://github.com/beatles-chameleon/cml-demo" target="_blank" rel="noopener" data-v-aa5c954a>
              Chameleon Demo
            </a><a href="https://github.com/chameleon-team/awesome-cml" target="_blank" rel="noopener" data-v-aa5c954a>
              Awesome Chameleon
            </a><a href="https://github.com/didi/chameleon/releases" target="_blank" rel="noopener" data-v-aa5c954a>
              更新记录
            </a></div><div class="col" data-v-aa5c954a><h4 data-v-aa5c954a>社区</h4> <a href="https://github.com/didi/chameleon/issues" target="_blank" rel="noopener" data-v-aa5c954a>
              GitHub
            </a><a data-v-aa5c954a><span data-v-aa5c954a>微信交流群</span> <img src="/assets/img/qr_weixin.59cd000a.png" alt="image" data-v-aa5c954a></a><a data-v-aa5c954a><span data-v-aa5c954a>QQ 交流群</span> <img src="/assets/img/qr_qq.115678d7.jpg" alt="image" data-v-aa5c954a></a><a data-v-aa5c954a><span data-v-aa5c954a>顺风公鹿</span> <img src="/assets/img/qr_deer.e2ddb653.png" alt="image" data-v-aa5c954a></a></div><div class="col" data-v-aa5c954a><h4 data-v-aa5c954a>关于</h4> <a href="https://github.com/didi/chameleon/wiki/Chameleon%E5%9B%A2%E9%98%9F" target="_blank" rel="noopener" data-v-aa5c954a>
              Chameleon 团队
            </a><a href="https://github.com/didi/chameleon/wiki/%E5%8A%A0%E5%85%A5%E6%88%91%E4%BB%AC" target="_blank" rel="noopener" data-v-aa5c954a>
              加入我们
            </a><a href="mailto:CML@didichuxing.com" target="_blank" rel="noopener" data-v-aa5c954a>
              联系我们
            </a><a href="https://github.com/didi/chameleon/wiki/Contributors" target="_blank" rel="noopener" data-v-aa5c954a>
              贡献者
            </a></div></div></div></footer></main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.75758a9d.js" defer></script><script src="/assets/js/59.27c1f2c2.js" defer></script><script src="/assets/js/1.0ffbe9b2.js" defer></script><script src="/assets/js/53.46fcfafd.js" defer></script><script src="/assets/js/2.d96f0f68.js" defer></script>
  </body>
</html>
